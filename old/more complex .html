<!DOCTYPE html>
<meta charset="utf-8">
<script src="d3.js"></script>
<style>

.chart div {
  font: 10px sans-serif;
  background-color: steelblue;
  text-align: right;
  padding: 3px;
  margin: 1px;
  color: white;
}

</style>


<script>

var ids = [];
var followers=[];
var names = [];




function addElement(obj){
	ids.push(obj.public_repos);
	
var graph = d3.select(".chart")
   .append("svg")
   .attr("width", 5)
   .attr("height",d3.max(ids));
   
}
</script>

<script src="https://d3js.org/d3.v5.min.js"></script>
	
<script>
		function loadXMLDoc() {
			var x = document.getElementById("userInput").value;
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) 
				{
					//document.getElementById("json").innerHTML = this.responseText;
					//tabulate(this.responseText, ['login','public_repos'])
					tableIt(this.responseText);
					
				}
			};
			xhttp.open("GET", "https://api.github.com/users/" + x, true);
			xhttp.send();
			
			
		}
	</script>
	
	<script>
	var tableids = [];
	function tableIt(xhttp) {
		var obj = JSON.parse(xhttp);
		var intable = true;
		for(var i = 0; i<=tableids.length;i++)
		{
			if(tableids[i]==obj.id)
			{
				intable = true;
				console.log(obj.id);
				break;
			}
			else
			{
				intable = false;
			}
			
		}
		//console.log(obj.id);
		//console.log(tableids);
		//console.log(intable);
		if(intable == false)
		{
			tableids.push(obj.id);
			var x = document.getElementById("table");
			var newRow = x.insertRow(1);
			var login = newRow.insertCell(0);
			var repos = newRow.insertCell(1);
			login.innerHTML = obj.login;
			repos.innerHTML = obj.public_repos;
			addElement(obj);
		}
	}
	</script>	
</head>

<body>
<div>

User name:
<br>
	<input type="text" name="username" value="kinselc3" id ="userInput">
<br>
	<button  onclick= "loadXMLDoc()">Run</button>
</div>
<div id = "json">
<table id = "table">
	<tr>
		<th>login</th>
		<th>commits</th>
		<th></th>
		<th></th>
	</tr>
</table>
</div>
<div class="chart"></div>

</body>
